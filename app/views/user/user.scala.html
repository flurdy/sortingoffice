@(currentDatabaseConnection: Environment.ConnectionName, users: List[User], toggleEnabled: Boolean, writeEnabled: Boolean = false)(implicit errorMessages: List[ErrorMessage] = List.empty)

@import helper._

@main(Some("Users"),Some(currentDatabaseConnection)) {

   <h3>Users</h3>

   <section>

      <table class="table table-hover ticks">
         <thead>
            <tr>
               <th>email</th>
               <th>enabled</th>
            </tr>
         </thead>
         <tbody>
            @for(user <- users){
            <tr>
               <td>
                  @if(!user.enabled){ <s> }
                  <a href="@routes.UserController.edituser(currentDatabaseConnection,user.email)">@user.email</a>
                  @if(!user.enabled){ </s> }
               <td>@user.enabled</td>
               <td class="actions">
                  @if(toggleEnabled){
                     @if(user.enabled){
                        @form(action=routes.UserController.disable(currentDatabaseConnection,user.email)){
                           <button type="submit" title="disable" class="btn btn-xs btn-warning">d</button>
                        }
                     } else {
                        @form(action=routes.UserController.enable(currentDatabaseConnection,user.email)){
                           <button type="submit" title="enable" class="btn btn-xs btn-success">e</button>
                        }
                     }
                  }
                  @if(writeEnabled){
                     <button disabled title="edit" class="btn btn-xs btn-info">edit</button>
                  }
               </td>
            </tr>
            }
         </tbody>
      </table>

      @if(writeEnabled){
         <button disabled class="btn btn-sm col-sm-2 col-xs-2 btn-info">add user</button>
      }

   </section>

}

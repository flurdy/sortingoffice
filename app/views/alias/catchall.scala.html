@(currentDatabaseConnection: Environment.ConnectionName, catchAllAliases: List[Domain],nonCatchAllAliases: List[Domain], catchAllRelays: Option[List[Domain]], nonCatchAllRelays: Option[List[Domain]], toggleEnabled: Boolean, writeEnabled: Boolean = false)

@import helper._

@main(Some("Aliases | Catch All"), Some(currentDatabaseConnection)) {

   <h3><a href="@routes.AliasController.alias(currentDatabaseConnection)">Catch all aliases</a></h3>

   <section>

      <h4>Catch all</h4>

      <table class="table table-hover">
         <thead>
            <tr>
               <th>domain</th>
               <th>enabled</th>
               <th></th>
            </tr>
         </thead>
         <tbody>
            @for(domain <- catchAllAliases){
               <tr>
                  <td>
                     @if(!domain.enabled){ <s> }
                     <a href="@routes.DomainController.alias(currentDatabaseConnection,domain.name)">@domain.name</a>
                     @if(!domain.enabled){ </s> }
                  </td>
                  <td>
                     @domain.enabled
                  </td>
                  <td class="actions">
                     @if(toggleEnabled){
                        @if(domain.enabled){
                           @form(action=routes.AliasController.disable(currentDatabaseConnection,"@"+domain.name)){
                              <button type="submit" title="disable" class="btn btn-xs btn-warning">d</button>
                           }
                        } else {
                           @form(action=routes.AliasController.enable(currentDatabaseConnection,"@"+domain.name)){
                              <button type="submit" title="enable" class="btn btn-xs btn-success">e</button>
                           }
                        }
                     }
                     @if(writeEnabled){
                        <button disabled title="remove" class="btn btn-xs btn-danger">x</button>
                     }
                  </td>
               </tr>
            }
         </tbody>
      </table>

      @if(writeEnabled){
         <button class="btn btn-sm col-sm-2 col-xs-2 btn-info">add catch all</button>
      }

   </section>

   <section>

      <h4>Not catch all</h4>

      <table class="table table-hover">
         <thead>
            <tr>
               <th>domain</th>
               <th></th>
            </tr>
         </thead>
         <tbody>
            @for(domain <- nonCatchAllAliases){
               <tr>
                  <td>
                     @if(!domain.enabled){ <s> }
                     <a href="@routes.DomainController.alias(currentDatabaseConnection,domain.name)">@domain.name</a>
                     @if(!domain.enabled){ </s> }
                  </td>
                  <td class="actions">
                     @if(writeEnabled){
                        <button disabled title="add" class="btn btn-xs btn-success">add</button>
                     }
                   </td>
               </tr>
            }
         </tbody>
      </table>

   </section>

   @for(relays <- catchAllRelays){

   <h3>Relays Catch All</h3>

   <section>

      <h4>Catch all</h4>

      <table class="table table-hover">
         <thead>
            <tr>
               <th>domain</th>
               <th>enabled</th>
               <th></th>
            </tr>
         </thead>
         <tbody>
            @for(domain <- relays){
               <tr>
                  <td>
                     @if(!domain.enabled){ <s> }
                     <a href="@routes.DomainController.alias(currentDatabaseConnection,domain.name)">@domain.name</a>
                     @if(!domain.enabled){ </s> }
                  </td>
                  <td>
                     @domain.enabled
                  </td>
                  <td class="actions">
                     @if(toggleEnabled){
                        @if(domain.enabled){
                           <button disabled title="disable" class="btn btn-xs btn-warning">d</button>
                         } else {
                           <button disabled title="enable" class="btn btn-xs btn-success">e</button>
                        }
                     }
                     @if(writeEnabled){
                        <button disabled title="remove" class="btn btn-xs btn-danger">x</button>
                     }
                  </td>
               </tr>
            }
         </tbody>
      </table>

      @if(writeEnabled){
         <button class="btn btn-sm col-sm-2 col-xs-2 btn-info">add catch all</button>
      }

   </section>
   }


   @for(relays <- nonCatchAllRelays){

   <section>

      <h4>Not catch all</h4>

      <table class="table table-hover">
         <thead>
            <tr>
               <th>domain</th>
               <th></th>
            </tr>
         </thead>
         <tbody>
            @for(domain <- relays){
               <tr>
                  <td>
                     @if(!domain.enabled){ <s> }
                     <a href="@routes.DomainController.alias(currentDatabaseConnection,domain.name)">@domain.name</a>
                     @if(!domain.enabled){ </s> }
                  </td>
                  <td class="actions">
                     @if(writeEnabled){
                        <button disabled title="add" class="btn btn-xs btn-success">add</button>
                     }
                  </td>
               </tr>
            }
         </tbody>
      </table>

   </section>
   }


}
